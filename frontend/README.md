# KnowledgeBaseAI Frontend

React + TypeScript + Vite –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–∞—Ñ–æ–º –∑–Ω–∞–Ω–∏–π.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Separation of Concerns).

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

*   **`src/pages`**: –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç (Route).
    *   `ExplorePage.tsx`: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –≥—Ä–∞—Ñ–æ–º (`vis-network`).
    *   `AnalyticsPage.tsx`: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
    *   `RoadmapPage.tsx`: –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –æ–±—É—á–µ–Ω–∏—è.
*   **`src/context`**: –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (State Management).
    *   `GraphContext.tsx`: –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∞, –∫–æ—Ç–æ—Ä–æ–µ –∂–∏–≤–µ—Ç "–Ω–∞–¥" —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
*   **`src/config`**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (UI —Ç–µ–º—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã).
    *   `graphTheme.ts`: –¶–≤–µ—Ç–∞ —É–∑–ª–æ–≤, —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–∑–∏–∫–∏.
    *   `appConfig.ts`: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, ID —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —É–∑–ª–∞).
*   **`src/api.ts`**: –°–ª–æ–π –æ–±—â–µ–Ω–∏—è —Å –ë—ç–∫–µ–Ω–¥–æ–º (–∑–∞–ø—Ä–æ—Å—ã fetch/axios).

---

## üß† –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ì—Ä–∞—Ñ (ExplorePage)

–°—Ç—Ä–∞–Ω–∏—Ü–∞ `ExplorePage` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫—É –≥—Ä–∞—Ñ–∞ –∑–Ω–∞–Ω–∏–π. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É **vis-network**, –∫–æ—Ç–æ—Ä–∞—è —Ä–∏—Å—É–µ—Ç —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ –Ω–∞ `Canvas` –∏ —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ñ–∏–∑–∏–∫—É (–æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ —É–∑–ª–æ–≤).

### –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
–í React –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Explore" -> "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞") –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≥—Ä–∞—Ñ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç, –∞ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ (—É–∑–ª—ã —Ä–∞–∑–ª–µ—Ç–∞—é—Ç—Å—è, –∫–∞–º–µ—Ä–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä).

### –†–µ—à–µ–Ω–∏–µ: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –°–æ—Å—Ç–æ—è–Ω–∏—è (GraphContext)

–ú—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º "–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è" —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥—Ä–∞—Ñ–∞, —á—Ç–æ–±—ã –ø–µ—Ä–µ—Ö–æ–¥—ã –±—ã–ª–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–º–∏ –∏ –Ω–µ–∑–∞–º–µ—Ç–Ω—ã–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ü–æ—à–∞–≥–æ–≤–æ):**

1.  **–ì–ª–æ–±–∞–ª—å–Ω–æ–µ –•—Ä–∞–Ω–∏–ª–∏—â–µ (`GraphContext`)**
    *   –ú—ã —Å–æ–∑–¥–∞–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (`main.tsx`).
    *   –û–Ω —Ö—Ä–∞–Ω–∏—Ç: `viewport` (—Å–∞–º–∏ –¥–∞–Ω–Ω—ã–µ: —É–∑–ª—ã –∏ —Å–≤—è–∑–∏), `camera` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–º–µ—Ä—ã –∏ –∑—É–º) –∏ `positions` (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞ X,Y).
    *   –ü–æ—Å–∫–æ–ª—å–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É, –æ–Ω **–Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è** –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü.

2.  **–ó–∞–≥—Ä—É–∑–∫–∞ –°—Ç—Ä–∞–Ω–∏—Ü—ã (–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)**
    *   –ö–æ–≥–¥–∞ –≤—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ `ExplorePage`, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: "–ï—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –ö–æ–Ω—Ç–µ–∫—Å—Ç–µ?".
    *   **–ï—Å–ª–∏ –î–ê:** –û–Ω –±–µ—Ä–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∑–ª–æ–≤. –ì—Ä–∞—Ñ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ –Ω—É–∂–Ω–æ–º –≤–∏–¥–µ, –±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏ "—Ä–∞–∑–ª–µ—Ç–∞–Ω–∏—è".
    *   **–ï—Å–ª–∏ –ù–ï–¢:** –û–Ω –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API (`getViewport`), –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Ä–∏—Å—É–µ—Ç –∏—Ö —Å –Ω—É–ª—è.

3.  **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–∞–º–µ—Ä—ã**
    *   –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∞ –º—ã —Å–º–æ—Ç—Ä–∏–º –≤ –ö–æ–Ω—Ç–µ–∫—Å—Ç: "–ë—ã–ª–∞ –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã?".
    *   –ï—Å–ª–∏ –±—ã–ª–∞, –º—ã –≤—ã–∑—ã–≤–∞–µ–º `network.moveTo(...)`, —á—Ç–æ–±—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤–∑–≥–ª—è–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç—É —Ç–æ—á–∫—É, –≥–¥–µ –æ–Ω –±—ã–ª –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑.

4.  **–£—Ö–æ–¥ —Å–æ –°—Ç—Ä–∞–Ω–∏—Ü—ã (–†–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)**
    *   –ö–æ–≥–¥–∞ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ (`cleanup`).
    *   –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –º—ã "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ–º" —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –±–µ—Ä–µ–º —Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–º–µ—Ä—ã –∏ –ø–æ–∑–∏—Ü–∏–∏ –≤—Å–µ—Ö —É–∑–ª–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Ö –≤ `GraphContext`.

---

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –í–Ω–µ—à–Ω–µ–≥–æ –í–∏–¥–∞ (Theming)

–í–µ—Å—å –¥–∏–∑–∞–π–Ω –≥—Ä–∞—Ñ–∞ –≤—ã–Ω–µ—Å–µ–Ω –≤ —Ñ–∞–π–ª `src/config/graphTheme.ts`. –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —Ü–≤–µ—Ç–∞ –ø–æ –∫–æ–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–ü—Ä–∏–º–µ—Ä `graphTheme.ts`:**
```typescript
export const GRAPH_THEME = {
  nodes: {
    colors: {
      Subject: '#ff9f1c', // –¶–≤–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–≤
      Topic: '#7c5cff',   // –¶–≤–µ—Ç —Ç–µ–º
    },
    sizes: {
      Subject: 40, // –†–∞–∑–º–µ—Ä –ø—Ä–µ–¥–º–µ—Ç–æ–≤
      Topic: 24,
    }
  },
  physics: {
    springLength: 200, // –î–ª–∏–Ω–∞ —Å–≤—è–∑–µ–π (–ø—Ä—É–∂–∏–Ω–æ–∫)
  }
}
```
–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –∏–ª–∏ —Ä–∞–∑–º–µ—Ä, –ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

---

## üõ†Ô∏è –ó–∞–ø—É—Å–∫ –∏ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5173)
npm run dev
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã

*   **useRef:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –Ω–∞ `network` (–∏–Ω—Å—Ç–∞–Ω—Å –≥—Ä–∞—Ñ–∞) –∏ `cameraRef`, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º –≤–Ω—É—Ç—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏–π `useEffect` –∏ —Ç–∞–π–º–µ—Ä–æ–≤, –Ω–µ –≤—ã–∑—ã–≤–∞—è –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–æ–∫.
*   **Race Conditions:** –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `vis-network` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `setTimeout(..., 100)`, —á—Ç–æ–±—ã –¥–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä—É –≤—Ä–µ–º—è –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (DOM) –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –¥–≤–∏–≥–∞—Ç—å –∫–∞–º–µ—Ä—É. –ë–µ–∑ —ç—Ç–æ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏.

## üöÄ Changelog (–≠–ø–∏–∫ 2: –ú–æ–¥—É–ª—å "Explore")

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞.

### [EXP-01] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ vis-network
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫ –≥—Ä–∞—Ñ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª—Å—è, —Ç–µ—Ä—è—è –ø–æ–∑–∏—Ü–∏—é –∫–∞–º–µ—Ä—ã –∏ –∑–∞—Å—Ç–∞–≤–ª—è—è —É–∑–ª—ã "—Ä–∞–∑–ª–µ—Ç–∞—Ç—å—Å—è".
*   **–†–µ—à–µ–Ω–∏–µ:**
    *   –í–Ω–µ–¥—Ä–µ–Ω `GraphContext` –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (viewport, camera, node positions).
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–º–µ—Ä—ã –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É–∑–ª–æ–≤ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
    *   –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ª–∏—à–Ω–∏–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã –∏ –≥–æ–Ω–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π (Race Conditions).

### [EXP-02] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —É–∑–ª–∞
*   **–ó–∞–¥–∞—á–∞:** –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —É–∑–µ–ª (—Å–æ–±—ã—Ç–∏–µ `selectNode`) –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å.
*   **–†–µ—à–µ–Ω–∏–µ:**
    *   –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `NodeDetailsSidebar`.
    *   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (UID, Title, Kind) –∏ —Å–≤—è–∑–µ–π (–í—Ö–æ–¥—è—â–∏–µ/–ò—Å—Ö–æ–¥—è—â–∏–µ).
    *   –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–°–ø—Ä–æ—Å–∏—Ç—å AI –æ–± —ç—Ç–æ–º —É–∑–ª–µ" (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —á–∞—Ç–æ–º –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ).
