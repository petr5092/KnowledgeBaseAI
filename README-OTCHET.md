# üìÑ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –û–¢–ß–ï–¢ ‚Äî –≠–ø–∏–∫ 2: –ú–æ–¥—É–ª—å **Explore** (–ü—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä–∞—Ñ–∞)

## –¶–µ–ª—å —ç–ø–∏–∫–∞
**–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å `ExplorePage.tsx` –∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∞**: —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —É–¥–æ–±–Ω—ã–π –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ —É–∑–ª–∞–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º ‚Äú—à—É–º–æ–º‚Äù —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é.

---

## [EXP-01] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ `vis-network` (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è)

### **–ü—Ä–æ–±–ª–µ–º–∞**
–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫/—Å—Ç—Ä–∞–Ω–∏—Ü –≥—Ä–∞—Ñ **–ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–ª—Å—è**, –∏–∑‚Äë–∑–∞ —á–µ–≥–æ:
- —Å–±—Ä–∞—Å—ã–≤–∞–ª–∞—Å—å –∫–∞–º–µ—Ä–∞ (–ø–æ–∑–∏—Ü–∏—è/–º–∞—Å—à—Ç–∞–±),
- —Ç–µ—Ä—è–ª–∏—Å—å –ø–æ–∑–∏—Ü–∏–∏ —É–∑–ª–æ–≤,
- –ø–æ—è–≤–ª—è–ª–∏—Å—å –ª–∏—à–Ω–∏–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –∏ ‚Äú—Ä—ã–≤–∫–∏‚Äù.

### **–ó–∞–¥–∞—á–∞**
–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
- –∏–Ω—Å—Ç–∞–Ω—Å `Network` –Ω–µ –ø—Ä–∏–≤–æ–¥–∏–ª –∫ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—é UX,
- —Å–æ—Ö—Ä–∞–Ω—è–ª–æ—Å—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã (viewport),
- –≥—Ä–∞—Ñ –≤–æ–∑–≤—Ä–∞—â–∞–ª—Å—è ‚Äú–∫–∞–∫ –±—ã–ª‚Äù.

### **–†–µ—à–µ–Ω–∏–µ**
#### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äú–∂–∏–≤—ë—Ç‚Äù –≤–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `GraphContext`** (`frontend/src/context/GraphContext.tsx`):
  - `viewport`: –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∞,
  - `selectedUid`: —Ü–µ–Ω—Ç—Ä –≥—Ä–∞—Ñ–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ,
  - `depth`: –≥–ª—É–±–∏–Ω–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ,
  - `camera`: `{ position, scale }` –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã,
  - `positions`: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∑–ª–æ–≤ `Record<uid, {x,y}>` –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏.
- **–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø**: –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏ **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç** `selectedUid` –∏ `depth`. –≠—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é ‚Äú–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∫–∞–º–µ—Ä—É/–ø–æ–∑–∏—Ü–∏–∏ –Ω–µ –æ—Ç —Ç–æ–≥–æ –≥—Ä–∞—Ñ–∞‚Äù.

#### **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**
- –í `ExplorePage.tsx` –≤–≤–µ–¥–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏:
  - `isContextValid = graphState.selectedUid === selectedUid && graphState.depth === depth && !!graphState.viewport`
  - –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞–ª–∏–¥–µ–Ω ‚Äî **API –Ω–µ –≤—ã–∑—ã–≤–∞–µ–º**, –∏—Å–ø–æ–ª—å–∑—É–µ–º `graphState.viewport`;
  - –µ—Å–ª–∏ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω ‚Äî –¥–µ–ª–∞–µ–º `getViewport({ center_uid: selectedUid, depth })` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–≤–º–µ—Å—Ç–µ —Å `selectedUid` –∏ `depth`).
- –ü—Ä–∏ —Å–º–µ–Ω–µ —É–∑–ª–∞ –∏–ª–∏ –≥–ª—É–±–∏–Ω—ã **–∫–∞–º–µ—Ä–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è** (`camera: null`), —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å ‚Äú—Å—Ç–∞—Ä—É—é‚Äù –∫–∞–º–µ—Ä—É –Ω–∞ –Ω–æ–≤—ã–π –≥—Ä–∞—Ñ.

#### **–°–æ–∑–¥–∞–Ω–∏–µ `vis-network` –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
- –ò–Ω—Å—Ç–∞–Ω—Å `Network` —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ `useEffect`, –Ω–æ:
  - —Å—Å—ã–ª–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `networkRef` (–Ω–µ –≤ state), —á—Ç–æ–±—ã –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã;
  - ‚Äú–ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã‚Äù —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `cameraRef`.
- –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è, —á—Ç–æ–±—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–º–µ—Ä—É:
  - `dragEnd`, `zoom`, `stabilized`, `animationFinished` ‚Üí –æ–±–Ω–æ–≤–ª—è—é—Ç `cameraRef` —á–µ—Ä–µ–∑ `getViewPosition()` –∏ `getScale()`.
- –ù–∞ `cleanup` —ç—Ñ—Ñ–µ–∫—Ç–∞ (unmount/–ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏):
  - –±–µ—Ä—ë–º `lastKnownCamera` –∏–∑ `cameraRef` (–∏–ª–∏, –µ—Å–ª–∏ –ø—É—Å—Ç–æ, —á–∏—Ç–∞–µ–º –∏–∑ `network`),
  - —Å–æ—Ö—Ä–∞–Ω—è–µ–º `network.getPositions()` (—Ä–∞—Å–∫–ª–∞–¥–∫—É),
  - –ø–∏—à–µ–º –≤—Å—ë –≤ `GraphContext` –∏ –¥–µ–ª–∞–µ–º `network.destroy()`.

#### **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –∏ ‚Äú—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å‚Äù –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ**
- –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞–ª–∏–¥–µ–Ω –∏ `camera` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å ‚Äî –∫–∞–º–µ—Ä–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `network.moveTo(...)` —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π.
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (`setTimeout`) –ø–µ—Ä–µ–¥ `moveTo`, —á—Ç–æ–±—ã `vis-network` —É—Å–ø–µ–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –Ω–µ –±—ã–ª–æ ‚Äú–¥—ë—Ä–≥–∞–Ω–∏–π‚Äù.
- –§–∏–∑–∏–∫–∞/—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è:
  - –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –≥—Ä–∞—Ñ–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è (`stabilization.enabled = !isContextValid`), —á—Ç–æ–±—ã —Ñ–∏–∑–∏–∫–∞ **–Ω–µ ‚Äú—Ä–∞–∑—ä–µ–∑–∂–∞–ª–∞‚Äù** —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏;
  - `stabilization.fit = false` ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ–º –∞–≤—Ç–æ‚Äë–∑—É–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–∞–º–µ—Ä–æ–π —É–ø—Ä–∞–≤–ª—è–µ–º —Å–∞–º–∏.

#### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π React**
- –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ ‚Äú–ø–æ—Å–ª–µ–¥–Ω–µ–º—É‚Äù `graphState` –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞ –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `graphStateRef`.
- –ö—Ä–∏—Ç–∏—á–Ω–æ: —ç—Ñ—Ñ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω–∏—è `Network` **–Ω–µ –∑–∞–≤–∏—Å–∏—Ç** –æ—Ç `graphState.camera`, –∏–Ω–∞—á–µ –ª—é–±–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –ø—Ä–∏–≤–æ–¥–∏–ª–æ –±—ã –∫ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—é —Å–µ—Ç–∏ –∏ ‚Äú–≤–µ—á–Ω—ã–º —Ä—ã–≤–∫–∞–º‚Äù.

### **–†–µ–∑—É–ª—å—Ç–∞—Ç**
–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –±–æ–ª—å—à–µ –Ω–µ ‚Äú–ª–æ–º–∞—é—Ç‚Äù –≥—Ä–∞—Ñ: –∫–∞–º–µ—Ä–∞ –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞.

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏ (—á—Ç–æ –ª–æ–º–∞–ª–æ—Å—å –∏ –∫–∞–∫ –ø–æ—á–∏–Ω–∏–ª–∏)**
- **–°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏/–≤–æ–∑–≤—Ä–∞—Ç–µ**: –∫–∞–º–µ—Ä–∞ —Ç–µ—Ä—è–ª–∞—Å—å –∏–∑-–∑–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è `Network` ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `camera` –≤ `GraphContext` + –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `moveTo`.
- **–ü–æ—Ç–µ—Ä—è —Ä–∞—Å–∫–ª–∞–¥–∫–∏ —É–∑–ª–æ–≤**: –ø–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ —É–∑–ª—ã ‚Äú–ø–µ—Ä–µ–º–µ—à–∏–≤–∞–ª–∏—Å—å‚Äù —Ñ–∏–∑–∏–∫–æ–π ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ–º `getPositions()` –∏ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Ç–∫–ª—é—á–∞–µ–º `stabilization`, –ø–æ–¥–º–µ—à–∏–≤–∞—è `x/y` –≤ —É–∑–ª—ã.
- **–ê–≤—Ç–æ‚Äë–∑—É–º/–∞–≤—Ç–æ‚Äë—Ñ–∏—Ç –ø–æ—Å–ª–µ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏**: vis-network –º–æ–≥ –º–µ–Ω—è—Ç—å –º–∞—Å—à—Ç–∞–± —Å–∞–º ‚Üí `stabilization.fit = false`, —Ñ–æ–∫—É—Å/–∫–∞–º–µ—Ä–∞ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é.
- **–†—ã–≤–∫–∏ –∏–∑-–∑–∞ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∏ –Ω–∞ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã**: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞ –æ—Ç `graphState.camera` –ø—Ä–∏–≤–æ–¥–∏–ª–∞ –∫ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—é `Network` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `graphStateRef` –∏ –∫–∞–º–µ—Ä–∞ —É–±—Ä–∞–Ω–∞ –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∞.
- **–ì–æ–Ω–∫–∞ `setTimeout(moveTo)` –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º —É—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**: –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π `moveTo` –º–æ–≥ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –ø–æ—Å–ª–µ unmount ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `isMounted`, –±–ª–æ–∫–∏—Ä—É—é—â–∏–π –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤.

---

## [EXP-02] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —É–∑–ª–∞ (Sidebar/Drawer)

### **–ó–∞–¥–∞—á–∞**
–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —É–∑–µ–ª (`selectNode`) –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
- **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: `UID`, `Title`, `Kind`,
- **–≤—Ö–æ–¥—è—â–∏–µ/–∏—Å—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏** —Å–ø–∏—Å–∫–∞–º–∏,
- –∫–Ω–æ–ø–∫—É **¬´–°–ø—Ä–æ—Å–∏—Ç—å AI –æ–± —ç—Ç–æ–º —É–∑–ª–µ¬ª**.

### **–†–µ—à–µ–Ω–∏–µ**
#### **UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
- –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **`NodeDetailsSidebar`** (`frontend/src/components/NodeDetailsSidebar.tsx`) ‚Äî ‚Äúdrawer‚Äù —Å–ø—Ä–∞–≤–∞:
  - –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS‚Äë–∫–ª–∞—Å—Å: `kb-sidebar-drawer` + `open`, –∫–æ–≥–¥–∞ `uid !== null`;
  - —à–∞–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `kind` –∏–ª–∏ –∑–∞–≥–ª—É—à–∫—É ‚ÄúNode Details‚Äù;
  - –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è ‚Äî –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –≥—Ä–∞—Ñ (–Ω–µ –ª–æ–º–∞–µ—Ç `Network`, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç viewport).

#### **–°–≤—è–∑–∫–∞ —Å `vis-network` (—Å–æ–±—ã—Ç–∏—è)**
- –í `ExplorePage.tsx` –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `selectNode`:
  - `setDetailsUid(id)` ‚Üí —Å–∞–π–¥–±–∞—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É `uid`.
- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π UX:
  - `doubleClick` –ø–æ —É–∑–ª—É –º–µ–Ω—è–µ—Ç —Ü–µ–Ω—Ç—Ä –≥—Ä–∞—Ñ–∞ (`onSelectUid(id)`), —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –Ω–æ–≤–æ–≥–æ viewport (—ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –æ—Ç —Å–∞–π–¥–±–∞—Ä–∞).

#### **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ —É–∑–ª—É**
- –ü–æ–¥ —Å–∞–π–¥–±–∞—Ä —Å–¥–µ–ª–∞–Ω —Ö—É–∫ **`useNodeDetails(uid)`** (`frontend/src/hooks/useNodeDetails.ts`):
  - –ø—Ä–∏ `uid = null` —Ö—É–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç `data` –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≥—Ä—É–∑–∏—Ç;
  - –ø—Ä–∏ `uid != null` –≤—ã–∑—ã–≤–∞–µ—Ç `getNodeDetails(uid)` –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `loading/error`;
  - –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω `cancelled`‚Äë—Ñ–ª–∞–≥, —á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å `setState` –ø–æ—Å–ª–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∑–∞—â–∏—Ç–∞ –æ—Ç –≥–æ–Ω–æ–∫).
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
  - **–°–≤–æ–π—Å—Ç–≤–∞**: –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –ø–æ–ª—è —É–∑–ª–∞, –∫—Ä–æ–º–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö (`APP_CONFIG.systemFields`), —á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å UID/—Å–≤—è–∑–∏ –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö.
  - **–í—Ö–æ–¥—è—â–∏–µ/–∏—Å—Ö–æ–¥—è—â–∏–µ**: –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏, –∫–∞–∂–¥–∞—è —Å–≤—è–∑—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∞ `{rel, title|uid}`.

#### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI‚Äë—á–∞—Ç–æ–º**
- –í `ExplorePage.tsx` –Ω–∞ –∫–Ω–æ–ø–∫—É ‚Äú–°–ø—Ä–æ—Å–∏—Ç—å AI‚Äù –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onAskAI`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —á–∞—Ç (`dispatch(toggleChat())`).
- –í–∞–∂–Ω–æ: ‚Äú–∫–æ–Ω—Ç–µ–∫—Å—Ç —É–∑–ª–∞‚Äù (uid) —É–∂–µ –µ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ —Å–∞–π–¥–±–∞—Ä–∞, –ø–æ—ç—Ç–æ–º—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç—Å—è –±–µ–∑ –¥–æ–ø. –∫–ª–∏–∫–æ–≤ –ø–æ –≥—Ä–∞—Ñ—É.

### **–†–µ–∑—É–ª—å—Ç–∞—Ç**
–ö–ª–∏–∫ –ø–æ —É–∑–ª—É –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å–≤–æ–π—Å—Ç–≤–∞ –∏ —Å–≤—è–∑–∏) –∏ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –∫ AI‚Äë–≤–æ–ø—Ä–æ—Å—É –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —É–∑–ª—É.

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏**
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–ª–∏–∫ –ø–æ —Ç–æ–º—É –∂–µ —É–∑–ª—É –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª —Å–∞–π–¥–±–∞—Ä**: `vis-network` –Ω–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç `selectNode`, –µ—Å–ª–∏ —É–∑–µ–ª —É–∂–µ –≤—ã–¥–µ–ª–µ–Ω ‚Üí –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–∞–π–¥–±–∞—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ `networkRef.current?.unselectAll()`, —á—Ç–æ–±—ã —Å–ª–µ–¥—É—é—â–∏–π –∫–ª–∏–∫ –ø–æ —ç—Ç–æ–º—É –∂–µ —É–∑–ª—É —Å–Ω–æ–≤–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª.
- **`setState` –ø–æ—Å–ª–µ unmount –≤ –∑–∞–≥—Ä—É–∑–∫–µ –¥–µ—Ç–∞–ª–µ–π**: –±—ã—Å—Ç—Ä—ã–µ –∫–ª–∏–∫–∏/–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–≥–ª–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –≥–æ–Ω–∫–µ ‚Üí –≤ `useNodeDetails` –¥–æ–±–∞–≤–ª–µ–Ω `cancelled`‚Äë—Ñ–ª–∞–≥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ `setData/setLoading`.

---

## [EXP-03] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –õ–µ–≥–µ–Ω–¥–∞ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äú—à—É–º–æ–º‚Äù –≥—Ä–∞—Ñ–∞)

### **–ó–∞–¥–∞—á–∞**
–î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —É–∑–ª–æ–≤ –ø–æ `kind` (—Ç–∏–ø—É) –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ **—Ç–µ–∫—É—â–µ–≥–æ Viewport**:
- –ø–∞–Ω–µ–ª—å —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏/—á–µ–∫–±–æ–∫—Å–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç,
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ —Å–∫—Ä—ã–≤–∞—Ç—å ‚Äú–ª–∏—à–Ω–∏–µ‚Äù —Ç–∏–ø—ã.

### **–†–µ—à–µ–Ω–∏–µ**
#### **–§–∏–ª—å—Ç—Ä –∫–∞–∫ UI-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
- –î–æ–±–∞–≤–ª–µ–Ω —Å–µ–ª–µ–∫—Ç `KBSelect` ‚ÄúKind‚Äù –Ω–∞ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ `ExplorePage.tsx`.
- –ó–Ω–∞—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `filterKind` (`'All' | string`), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `'All'`.

#### **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∏–ø–æ–≤**
- –°–ø–∏—Å–æ–∫ –æ–ø—Ü–∏–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ `viewport`:
  - –±–µ—Ä—ë–º `new Set(viewport.nodes.map(n => n.kind))`,
  - –¥–æ–±–∞–≤–ª—è–µ–º –æ–ø—Ü–∏—é `'All'`.
- –ò—Ç–æ–≥: UI –Ω–µ ‚Äú–≤—Ä–µ—Ç‚Äù –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Ç–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ —Ç–µ–∫—É—â–µ–º –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö.

#### **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—Ä–æ—Å–æ–≤**
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç—Å—è –≤ `useMemo` –ø–µ—Ä–µ–¥ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ vis‚Äë—Ñ–æ—Ä–º–∞—Ç:
  - –µ—Å–ª–∏ `filterKind === 'All'` ‚Üí –±–µ—Ä—ë–º –≤—Å–µ —É–∑–ª—ã,
  - –∏–Ω–∞—á–µ ‚Üí `viewport.nodes.filter(n => n.kind === filterKind)`.
- –í–∞–∂–Ω–æ–µ UX‚Äë—Å–ª–µ–¥—Å—Ç–≤–∏–µ: –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ **–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç `getViewport`**, –∞ –∑–Ω–∞—á–∏—Ç:
  - –Ω–µ—Ç –ª–∏—à–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API,
  - —Ñ–∏–ª—å—Ç—Ä —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ,
  - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã/—Å–∞–π–¥–∞–±–∞—Ä–∞ –Ω–µ ‚Äú–ª–æ–º–∞–µ—Ç—Å—è‚Äù —Å–µ—Ç–µ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏.

#### **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä**
- `NodeKind` –ø—Ä–∏–≤–µ–¥—ë–Ω –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É 4.2 (`'concept' | 'skill' | 'resource'`) –≤ `APP_CONFIG`.
- –í `toVisData()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–∞–ø–ø–∏–Ω–≥ ‚Äú—Ç–∏–ø–æ–≤ –∏–∑ –ë–î‚Äù ‚Üí ‚Äú—Å—Ç–∞–Ω–¥–∞—Ä—Ç‚Äù:
  - `APP_CONFIG.kindMap[k] || APP_CONFIG.defaultKind`
  - –µ—Å–ª–∏ —Ç–µ–º–∞ –Ω–µ –∑–Ω–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π `kind`, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π.
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã—Ç–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è `vis-network`:
  - —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –¥—É–±–ª–∏ —É–∑–ª–æ–≤ –ø–æ `uid` (—á–µ—Ä–µ–∑ `seenIds`), —á—Ç–æ–±—ã –Ω–µ –ø–æ–ª—É—á–∞—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏ `id` –∏ —Å—Ç—Ä–∞–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã.

#### **–ù–µ–±–æ–ª—å—à–∏–µ UX-–¥–æ—Ä–∞–±–æ—Ç–∫–∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –≥—Ä–∞—Ñ–∞**
- –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `label` —Å –ø–µ—Ä–µ–Ω–æ—Å–æ–º —Å—Ç—Ä–æ–∫ (`\n`), –∞ –≤ `font` –≤–∫–ª—é—á–µ–Ω–æ `multi: true` ‚Äî –ø–æ–¥–ø–∏—Å–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ ‚Äú–≤—ã–ª–∞–∑–∏—Ç—å‚Äù –∑–∞ —É–∑–µ–ª –∏ —Å—Ç–∞–ª–∏ —á–∏—Ç–∞–±–µ–ª—å–Ω–µ–µ.

### **–†–µ–∑—É–ª—å—Ç–∞—Ç**
Explore –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ ‚Äú–æ—á–∏—Å—Ç–∏—Ç—å‚Äù –≥—Ä–∞—Ñ –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω—É–∂–Ω—ã—Ö —Ç–∏–ø–∞—Ö —É–∑–ª–æ–≤.

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏**
- **‚Äú–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ‚Äù —Ç–∏–ø—ã —É–∑–ª–æ–≤ –ª–æ–º–∞–ª–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ** (–Ω–µ –±—ã–ª–æ —Ü–≤–µ—Ç–∞/—Ä–∞–∑–º–µ—Ä–∞ –≤ —Ç–µ–º–µ, —É–∑–ª—ã –≤—ã–≥–ª—è–¥–µ–ª–∏ ‚Äú–±–∏—Ç—ã–º‚Äù —Å—Ç–∏–ª–µ–º) ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ `kindMap` –∏ fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∏–ø, –ø–ª—é—Å –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞ –≤ —Ç–µ–º–µ.
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–ª–æ–≤ –ø–æ `uid` –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º/–∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º `id`** ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥—É–±–ª–µ–π (`seenIds`) –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º `vis`‚Äë—É–∑–ª–æ–≤.
- **–î–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–µ–ª–∞–ª–∏ –≥—Ä–∞—Ñ –Ω–µ—á–∏—Ç–∞–µ–º—ã–º** (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞, –Ω–∞–∫–ª–∞–¥—ã–≤–∞–Ω–∏—è) ‚Üí –ø–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–≤ + `font.multi = true`.
