# üìÑ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –û–¢–ß–ï–¢: KnowledgeBaseAI (–≠–ø–∏–∫ 2)

–≠—Ç–æ—Ç –æ—Ç—á–µ—Ç –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤ —Ö–æ–¥–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –º–æ–¥—É–ª–µ–º "Explore" –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ò–ò.

---

## üèóÔ∏è 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (SOLID & SRP)

### üß© –ò–∑–æ–ª—è—Ü–∏—è –º–æ–¥—É–ª—è —á–∞—Ç–∞ (`AIChat.tsx`)
**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–Ω–µ–µ `App.tsx` –±—ã–ª –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –ª–æ–≥–∏–∫–æ–π —á–∞—Ç–∞, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –ª–∏—à–Ω–∏–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –∏ –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
**–†–µ—à–µ–Ω–∏–µ:**
- –í–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤—ã–Ω–µ—Å–µ–Ω –≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `AIChat.tsx`.
- **Redux Integration:** –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ —Ç–µ–ø–µ—Ä—å –∂–∏–≤—É—Ç –≤ `Redux Toolkit`, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
- **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü–æ–ª—è –≤–≤–æ–¥–∞ –∏ —Ñ–ª–∞–≥–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (`isSending`) —Ç–µ–ø–µ—Ä—å –ª–æ–∫–∞–ª—å–Ω—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —á—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

### üé£ –í—ã–Ω–æ—Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ —Ö—É–∫–∏ (`useNodeDetails`)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ç—Ç–µ—Ä–Ω "Container/Presentational". –í—Å—è –ª–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π `loading/error` –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏.
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NodeDetailsSidebar`) —Å—Ç–∞–ª–∏ "–≥–ª—É—Ö–∏–º–∏" ‚Äî –æ–Ω–∏ —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –¥–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç —Ö—É–∫–æ–≤.

---

## üó∫Ô∏è 2. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –°–æ—Å—Ç–æ—è–Ω–∏–µ (ExplorePage)

### üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥—Ä–∞—Ñ–∞ (`GraphContext`)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ–±—Ä–∞—Ç–Ω–æ) –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –∏ —É–∑–ª–æ–≤ —Å–±—Ä–∞—Å—ã–≤–∞–ª–æ—Å—å.
- **–†–µ—à–µ–Ω–∏–µ:** –í–Ω–µ–¥—Ä–µ–Ω `GraphContext`. –ü—Ä–∏ —É—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∑–∏—Ü–∏–∏ —É–∑–ª–æ–≤ –∏ –∑—É–º –∫–∞–º–µ—Ä—ã "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞—é—Ç—Å—è" –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ.

### üîç –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **–§–∏–ª—å—Ç—Ä –ø–æ Kind:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∞–≤—Ç–æ-–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —É–∑–ª–æ–≤ (`concept`, `skill`, `resource`) –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ `viewport`. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ `useMemo` –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω–æ–π:** –î–æ–±–∞–≤–ª–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä `Depth (1-3)`, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –∏—Å—Å–ª–µ–¥—É–µ–º–æ–π –æ–±–ª–∞—Å—Ç–∏ –≥—Ä–∞—Ñ–∞.

---

## üì° 3. –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã API –∏ –¢–∏–ø–∏–∑–∞—Ü–∏—è (Contracts)

### üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–°—Ç–∞–Ω–¥–∞—Ä—Ç 4.1)
- –í–Ω–µ–¥—Ä–µ–Ω –∫–ª–∞—Å—Å `HttpError`. –¢–µ–ø–µ—Ä—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ–± –æ—à–∏–±–∫–µ `{ status, message, details }`.
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `apiFetch` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞, –æ—Ç–¥–µ–ª—è—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ª–æ–≥–æ–≤ –æ—Ç –ø–æ–Ω—è—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### üè∑Ô∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (–°—Ç–∞–Ω–¥–∞—Ä—Ç 4.2)
- –ü–æ–ª–µ `kind` –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –∫ —Å—Ç—Ä–æ–≥–æ–º—É –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—é: `'concept' | 'skill' | 'resource'`.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–∞–ø–ø–∏–Ω–≥ –≤ `ExplorePage`: —Ç–∏–ø—ã –∏–∑ –ë–î (Subject, Topic –∏ —Ç.–¥.) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.
- –ü–æ–ª–Ω–æ–µ –∏—Å–∫–æ—Ä–µ–Ω–µ–Ω–∏–µ `any` –≤ –ª–æ–≥–∏–∫–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥—Ä–∞—Ñ–∞.

---

## üé® 4. UX, UI –∏ –ê–Ω–∏–º–∞—Ü–∏–∏ (Definition of Done)

### ‚ú® –ü–ª–∞–≤–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **Sidebar:** –î–æ–±–∞–≤–ª–µ–Ω –ø–ª–∞–≤–Ω—ã–π –≤—ã–µ–∑–¥ –ø–∞–Ω–µ–ª–∏ –¥–µ—Ç–∞–ª–µ–π —Å–ø—Ä–∞–≤–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CSS-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (`transition`) –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤.
- **AI Chat:** –≠—Ñ—Ñ–µ–∫—Ç "–≤—Å–ø–ª—ã—Ç–∏—è" –æ–∫–Ω–∞ —Å–Ω–∏–∑—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `drop-up` —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞.
- **Feedback:** –ò–Ω–¥–∏–∫–∞—Ü–∏—è `isLoading` –Ω–∞ –≤—Å–µ—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–∫–∞—Ö. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤–≤–æ–¥–∞ –≤ —á–∞—Ç–µ –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –ò–ò.

### üßπ –ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞ (DRY)
- **CSS Refactoring:** –£–¥–∞–ª–µ–Ω–æ –±–æ–ª–µ–µ 150 —Å—Ç—Ä–æ–∫ –∏–Ω–ª–∞–π–Ω–æ–≤—ã—Ö —Å—Ç–∏–ª–µ–π. –í—Å–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ `index.css` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤ (`.kb-panel`, `.kb-btn`) –∏ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥:** –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã, UID —Ç–µ—Å—Ç–æ–≤—ã—Ö —É–∑–ª–æ–≤ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `appConfig.ts` –∏ `uiConfig.ts`.

---

## üöÄ –ò—Ç–æ–≥
–ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—à–µ–ª –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è "–ø—Ä–æ—Ç–æ—Ç–∏–ø —Å –∂–µ—Å—Ç–∫–æ –∑–∞—à–∏—Ç—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏" –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, —Å—Ç—Ä–æ–≥–∏–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UX.
